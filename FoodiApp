## Project Structure

```
FoodRecipe/
â”œâ”€â”€ package.json
â”œâ”€â”€ App.js
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ navigation/
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ redux/
â”‚   â”‚   â”œâ”€â”€ store.js
â”‚   â”‚   â””â”€â”€ favoritesSlice.js
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ WelcomeScreen.js
â”‚   â”‚   â”œâ”€â”€ HomeScreen.js
â”‚   â”‚   â”œâ”€â”€ RecipeDetailScreen.js
â”‚   â”‚   â”œâ”€â”€ FavoriteScreen.js
â”‚   â”‚   â”œâ”€â”€ MyRecipeScreen.js
â”‚   â”‚   â”œâ”€â”€ CustomRecipesScreen.js
â”‚   â”‚   â””â”€â”€ RecipesFormScreen.js
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ categories.js
â”‚       â””â”€â”€ recipes.js
```

## File Contents

### 1. **package.json**
```json
{
  "name": "FoodRecipe",
  "version": "1.0.0",
  "main": "node_modules/expo/AppEntry.js",
  "scripts": {
    "start": "expo start",
    "android": "expo start --android",
    "ios": "expo start --ios",
    "web": "expo start --web"
  },
  "dependencies": {
    "@react-native-async-storage/async-storage": "1.19.3",
    "@react-navigation/native": "^6.1.7",
    "@react-navigation/native-stack": "^6.9.13",
    "@reduxjs/toolkit": "^1.9.7",
    "expo": "~49.0.15",
    "expo-status-bar": "~1.6.0",
    "react": "18.2.0",
    "react-native": "0.72.6",
    "react-native-reanimated": "~3.3.0",
    "react-native-responsive-screen": "^1.4.2",
    "react-native-safe-area-context": "4.6.3",
    "react-native-screens": "~3.22.0",
    "react-redux": "^8.1.3"
  },
  "devDependencies": {
    "@babel/core": "^7.20.0"
  },
  "private": true
}
```

### 2. **App.js**
```javascript
import React from 'react';
import { Provider } from 'react-redux';
import { store } from './src/redux/store';
import AppNavigation from './src/navigation';

export default function App() {
  return (
    <Provider store={store}>
      <AppNavigation />
    </Provider>
  );
}
```

### 3. **src/navigation/index.js**
```javascript
import * as React from "react";
import { NavigationContainer } from "@react-navigation/native";
import { createNativeStackNavigator } from "@react-navigation/native-stack";
import HomeScreen from "../screens/HomeScreen";
import WelcomeScreen from "../screens/WelcomeScreen";
import MyRecipeScreen from "../screens/MyRecipeScreen";
import CustomRecipesScreen from "../screens/CustomRecipesScreen";
import RecipesFormScreen from "../screens/RecipesFormScreen";
import FavoriteScreen from "../screens/FavoriteScreen";
import RecipeDetailScreen from "../screens/RecipeDetailScreen";

const Stack = createNativeStackNavigator();

function AppNavigation() {
  return (
    <NavigationContainer>
      <Stack.Navigator
        initialRouteName="Welcome"
        screenOptions={{ headerShown: false }}
      >
        <Stack.Screen name="Home" component={HomeScreen} />
        <Stack.Screen name="Welcome" component={WelcomeScreen} />
        <Stack.Screen name="RecipeDetail" component={RecipeDetailScreen} />
        <Stack.Screen name="MyFood" component={MyRecipeScreen} />
        <Stack.Screen name="CustomRecipesScreen" component={CustomRecipesScreen} />
        <Stack.Screen name="RecipesFormScreen" component={RecipesFormScreen} />
        <Stack.Screen name="FavoriteScreen" component={FavoriteScreen} />
      </Stack.Navigator>
    </NavigationContainer>
  );
}

export default AppNavigation;
```

### 4. **src/redux/store.js**
```javascript
import { configureStore } from '@reduxjs/toolkit';
import favoritesReducer from './favoritesSlice';

export const store = configureStore({
  reducer: {
    favorites: favoritesReducer,
  },
});
```

### 5. **src/redux/favoritesSlice.js**
```javascript
import { createSlice } from '@reduxjs/toolkit';

const favoritesSlice = createSlice({
  name: 'favorites',
  initialState: {
    favoriteRecipes: [],
  },
  reducers: {
    toggleFavorite: (state, action) => {
      const recipe = action.payload;
      const exists = state.favoriteRecipes.find(
        (fav) => fav.idFood === recipe.idFood
      );
      
      if (exists) {
        state.favoriteRecipes = state.favoriteRecipes.filter(
          (fav) => fav.idFood !== recipe.idFood
        );
      } else {
        state.favoriteRecipes.push(recipe);
      }
    },
    clearFavorites: (state) => {
      state.favoriteRecipes = [];
    },
  },
});

export const { toggleFavorite, clearFavorites } = favoritesSlice.actions;
export default favoritesSlice.reducer;
```

### 6. **src/screens/WelcomeScreen.js**
```javascript
import React, { useEffect } from 'react';
import { View, Text, Image, StyleSheet } from 'react-native';
import { StatusBar } from 'expo-status-bar';
import { useNavigation } from '@react-navigation/native';
import Animated, { useSharedValue, withSpring } from 'react-native-reanimated';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const WelcomeScreen = () => {
  const ring1padding = useSharedValue(0);
  const ring2padding = useSharedValue(0);
  const navigation = useNavigation();

  useEffect(() => {
    ring1padding.value = 0;
    ring2padding.value = 0;

    setTimeout(() => ring1padding.value = withSpring(ring1padding.value + hp(5)), 100);
    setTimeout(() => ring2padding.value = withSpring(ring2padding.value + hp(5.5)), 300);
    setTimeout(() => navigation.navigate('Home'), 2500);
  }, []);

  return (
    <View style={styles.container}>
      <StatusBar style="light" />
      
      <Animated.View style={[styles.ring, { padding: ring2padding }]}>
        <Animated.View style={[styles.ring, { padding: ring1padding }]}>
          <Image
            source={{ uri: 'https://cdn-icons-png.flaticon.com/512/8068/8068727.png' }}
            style={styles.logo}
          />
        </Animated.View>
      </Animated.View>

      <View style={styles.textContainer}>
        <Text style={styles.title}>Foodie!</Text>
        <Text style={styles.subtitle}>your food recipe app</Text>
      </View>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#FBBF24',
  },
  ring: {
    backgroundColor: 'rgba(255, 255, 255, 0.2)',
    borderRadius: 9999,
  },
  logo: {
    width: hp(20),
    height: hp(20),
  },
  textContainer: {
    marginTop: hp(10),
    alignItems: 'center',
  },
  title: {
    fontSize: hp(7),
    fontWeight: 'bold',
    color: 'white',
    letterSpacing: 2,
  },
  subtitle: {
    fontSize: hp(2.5),
    color: 'white',
    letterSpacing: 1,
    marginTop: hp(2),
  },
});

export default WelcomeScreen;
```

### 7. **src/screens/HomeScreen.js**
```javascript
import React, { useState } from 'react';
import { View, Text, ScrollView, Image, StyleSheet } from 'react-native';
import { StatusBar } from 'expo-status-bar';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';
import Categories from '../components/categories';
import Recipes from '../components/recipes';

const HomeScreen = () => {
  const [activeCategory, setActiveCategory] = useState("Chicken");
  
  const categories = [
    { idCategory: '1', strCategory: 'Chicken', strCategoryThumb: 'https://www.themealdb.com/images/category/chicken.png' },
    { idCategory: '2', strCategory: 'Beef', strCategoryThumb: 'https://www.themealdb.com/images/category/beef.png' },
    { idCategory: '3', strCategory: 'Dessert', strCategoryThumb: 'https://www.themealdb.com/images/category/dessert.png' },
    { idCategory: '4', strCategory: 'Vegetarian', strCategoryThumb: 'https://www.themealdb.com/images/category/vegetarian.png' },
    { idCategory: '5', strCategory: 'Pasta', strCategoryThumb: 'https://www.themealdb.com/images/category/pasta.png' },
    { idCategory: '6', strCategory: 'Seafood', strCategoryThumb: 'https://www.themealdb.com/images/category/seafood.png' },
  ];

  const allFood = [
    { 
      idFood: 1, 
      recipeName: 'Chicken Curry', 
      recipeInstructions: 'Heat oil, add onions and spices, cook chicken until tender...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/wuxrtu1483564410.jpg',
      category: 'Chicken',
      ingredients: [
        { name: 'Chicken', measure: '500g' },
        { name: 'Onion', measure: '2 medium' },
        { name: 'Curry Powder', measure: '2 tbsp' },
        { name: 'Coconut Milk', measure: '400ml' }
      ]
    },
    { 
      idFood: 2, 
      recipeName: 'Beef Steak', 
      recipeInstructions: 'Season beef, grill to desired doneness, rest before serving...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/sbx7n71587673021.jpg',
      category: 'Beef',
      ingredients: [
        { name: 'Beef Steak', measure: '300g' },
        { name: 'Salt', measure: '1 tsp' },
        { name: 'Black Pepper', measure: '1 tsp' },
        { name: 'Olive Oil', measure: '2 tbsp' }
      ]
    },
    { 
      idFood: 3, 
      recipeName: 'Chocolate Cake', 
      recipeInstructions: 'Mix dry ingredients, add wet ingredients, bake at 180Â°C for 30 mins...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/qrqywr1503066605.jpg',
      category: 'Dessert',
      ingredients: [
        { name: 'Flour', measure: '200g' },
        { name: 'Sugar', measure: '150g' },
        { name: 'Cocoa Powder', measure: '50g' },
        { name: 'Eggs', measure: '3' }
      ]
    },
    { 
      idFood: 4, 
      recipeName: 'Vegetable Stir Fry', 
      recipeInstructions: 'Heat oil, stir-fry vegetables, add sauce, cook until tender...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/wvpsxx1468256321.jpg',
      category: 'Vegetarian',
      ingredients: [
        { name: 'Bell Peppers', measure: '2' },
        { name: 'Broccoli', measure: '1 head' },
        { name: 'Carrots', measure: '2' },
        { name: 'Soy Sauce', measure: '3 tbsp' }
      ]
    },
    { 
      idFood: 5, 
      recipeName: 'Spaghetti Carbonara', 
      recipeInstructions: 'Cook pasta, mix with eggs and cheese, add crispy bacon...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/llcbn01574260722.jpg',
      category: 'Pasta',
      ingredients: [
        { name: 'Spaghetti', measure: '400g' },
        { name: 'Eggs', measure: '3' },
        { name: 'Parmesan Cheese', measure: '100g' },
        { name: 'Bacon', measure: '200g' }
      ]
    },
    { 
      idFood: 6, 
      recipeName: 'Grilled Salmon', 
      recipeInstructions: 'Season salmon, grill skin-side down, flip and cook through...',
      recipeImage: 'https://www.themealdb.com/images/media/meals/xxrxux1503070723.jpg',
      category: 'Seafood',
      ingredients: [
        { name: 'Salmon Fillet', measure: '4 pieces' },
        { name: 'Lemon', measure: '1' },
        { name: 'Dill', measure: '2 tbsp' },
        { name: 'Butter', measure: '50g' }
      ]
    },
  ];

  const handleChangeCategory = (category) => {
    setActiveCategory(category);
  };

  const filteredfoods = allFood.filter(food => food.category === activeCategory);

  return (
    <ScrollView testID="scrollContainer" style={styles.container}>
      <StatusBar style="dark" />
      
      <View testID="headerContainer" style={styles.header}>
        <Image
          source={{ uri: 'https://randomuser.me/api/portraits/men/32.jpg' }}
          style={styles.avatar}
        />
        <Text style={styles.greeting}>Hello, User!</Text>
      </View>

      <View testID="titleContainer" style={styles.titleSection}>
        <Text style={styles.mainTitle}>Make your own food</Text>
        <Text style={styles.subtitle}>stay at home</Text>
      </View>

      <View testID="categoryList" style={styles.categoryContainer}>
        <Categories 
          categories={categories}
          activeCategory={activeCategory}
          handleChangeCategory={handleChangeCategory}
        />
      </View>

      <View testID="foodList" style={styles.recipeContainer}>
        <Recipes 
          foods={filteredfoods}
          categories={categories}
        />
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  header: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: wp(5),
    paddingTop: hp(5),
    paddingBottom: hp(2),
  },
  avatar: {
    width: wp(12),
    height: wp(12),
    borderRadius: wp(6),
    marginRight: wp(4),
  },
  greeting: {
    fontSize: hp(2.5),
    fontWeight: '600',
    color: '#333',
  },
  titleSection: {
    paddingHorizontal: wp(5),
    marginBottom: hp(3),
  },
  mainTitle: {
    fontSize: hp(4),
    fontWeight: 'bold',
    color: '#333',
  },
  subtitle: {
    fontSize: hp(2.2),
    color: '#666',
    marginTop: hp(0.5),
  },
  categoryContainer: {
    marginBottom: hp(3),
  },
  recipeContainer: {
    paddingBottom: hp(5),
  },
});

export default HomeScreen;
```

### 8. **src/screens/RecipeDetailScreen.js**
```javascript
import React from 'react';
import {
  ScrollView,
  View,
  Text,
  Image,
  TouchableOpacity,
  StyleSheet
} from 'react-native';
import { useNavigation } from '@react-navigation/native';
import { useDispatch, useSelector } from 'react-redux';
import { toggleFavorite } from '../redux/favoritesSlice';
import { StatusBar } from 'expo-status-bar';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const RecipeDetailScreen = (props) => {
  const recipe = props.route.params;
  const navigation = useNavigation();
  const dispatch = useDispatch();
  
  const favoriteRecipes = useSelector((state) => state.favorites.favoriteRecipes);
  const isFavorite = favoriteRecipes.some(fav => fav.idFood === recipe.idFood);

  const handleToggleFavorite = () => {
    dispatch(toggleFavorite(recipe));
  };

  return (
    <ScrollView style={styles.container}>
      <StatusBar style="dark" />
      
      <View testID="imageContainer" style={styles.imageContainer}>
        <Image
          source={{ uri: recipe.recipeImage }}
          style={styles.recipeImage}
          resizeMode="cover"
        />
      </View>

      <View style={styles.topButtonsContainer}>
        <TouchableOpacity
          style={styles.backButton}
          onPress={() => navigation.goBack()}
        >
          <Text style={styles.buttonText}>â† Back</Text>
        </TouchableOpacity>
        
        <TouchableOpacity
          style={styles.favoriteButton}
          onPress={handleToggleFavorite}
        >
          <Text style={styles.heartIcon}>
            {isFavorite ? 'â™¥' : 'â™¡'}
          </Text>
        </TouchableOpacity>
      </View>

      <View testID="recipeTitle" style={styles.titleContainer}>
        <Text style={styles.recipeTitle}>{recipe.recipeName}</Text>
      </View>

      <View testID="recipeCategory" style={styles.categoryContainer}>
        <Text style={styles.recipeCategory}>{recipe.category}</Text>
      </View>

      <View testID="miscContainer" style={styles.miscContainer}>
        <View style={styles.miscItem}>
          <Text style={styles.miscIcon}>ğŸ•’</Text>
          <Text style={styles.miscText}>35 Mins</Text>
        </View>
        <View style={styles.miscItem}>
          <Text style={styles.miscIcon}>ğŸ‘¥</Text>
          <Text style={styles.miscText}>03 Servings</Text>
        </View>
        <View style={styles.miscItem}>
          <Text style={styles.miscIcon}>ğŸ”¥</Text>
          <Text style={styles.miscText}>103 Cal</Text>
        </View>
        <View style={styles.miscItem}>
          <Text style={styles.miscIcon}>ğŸšï¸</Text>
          <Text style={styles.miscText}>Medium</Text>
        </View>
      </View>

      <View testID="sectionContainer" style={styles.sectionContainer}>
        <Text style={styles.sectionTitle}>Ingredients</Text>
        <View testID="ingredientsList" style={styles.ingredientsList}>
          {recipe.ingredients?.map((ingredient, index) => (
            <View key={index} style={styles.ingredientItem}>
              <Text style={styles.ingredientName}>â€¢ {ingredient.name}</Text>
              <Text style={styles.ingredientMeasure}>{ingredient.measure}</Text>
            </View>
          ))}
        </View>
      </View>

      <View testID="sectionContainer" style={styles.sectionContainer}>
        <Text style={styles.sectionTitle}>Instructions</Text>
        <Text style={styles.instructionsText}>
          {recipe.recipeInstructions}
        </Text>
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  imageContainer: {
    position: 'relative',
  },
  recipeImage: {
    width: '100%',
    height: hp(40),
    borderBottomLeftRadius: 30,
    borderBottomRightRadius: 30,
  },
  topButtonsContainer: {
    position: 'absolute',
    top: hp(5),
    left: wp(4),
    right: wp(4),
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
  backButton: {
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    paddingHorizontal: 16,
    paddingVertical: 8,
    borderRadius: 20,
    elevation: 3,
  },
  favoriteButton: {
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    padding: 12,
    borderRadius: 20,
    elevation: 3,
  },
  buttonText: {
    color: '#333',
    fontWeight: 'bold',
  },
  heartIcon: {
    fontSize: 20,
    color: '#FF6347',
  },
  titleContainer: {
    paddingHorizontal: wp(5),
    marginTop: hp(2),
  },
  recipeTitle: {
    fontSize: hp(3.5),
    fontWeight: 'bold',
    color: '#333',
  },
  categoryContainer: {
    paddingHorizontal: wp(5),
    marginTop: hp(1),
  },
  recipeCategory: {
    fontSize: hp(2),
    color: '#666',
  },
  miscContainer: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    marginTop: hp(3),
    paddingHorizontal: wp(5),
  },
  miscItem: {
    alignItems: 'center',
  },
  miscIcon: {
    fontSize: hp(3),
    marginBottom: 5,
  },
  miscText: {
    fontSize: hp(1.8),
    color: '#666',
  },
  sectionContainer: {
    paddingHorizontal: wp(5),
    marginTop: hp(3),
  },
  sectionTitle: {
    fontSize: hp(2.5),
    fontWeight: 'bold',
    color: '#333',
    marginBottom: hp(1.5),
  },
  ingredientsList: {
    backgroundColor: '#f8f8f8',
    borderRadius: 12,
    padding: 16,
  },
  ingredientItem: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    marginBottom: 8,
    paddingBottom: 8,
    borderBottomWidth: 1,
    borderBottomColor: '#eee',
  },
  ingredientName: {
    fontSize: hp(1.8),
    color: '#333',
    flex: 1,
  },
  ingredientMeasure: {
    fontSize: hp(1.8),
    color: '#666',
    marginLeft: 10,
  },
  instructionsText: {
    fontSize: hp(1.9),
    color: '#444',
    lineHeight: hp(2.8),
    textAlign: 'justify',
  },
});

export default RecipeDetailScreen;
```

### 9. **src/screens/FavoriteScreen.js**
```javascript
import React from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  Image,
  FlatList,
  StyleSheet
} from 'react-native';
import { useSelector } from 'react-redux';
import { useNavigation } from '@react-navigation/native';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const FavoriteScreen = () => {
  const navigation = useNavigation();
  const favoriteRecipesList = useSelector((state) => state.favorites.favoriteRecipes);

  const renderRecipeItem = ({ item }) => (
    <TouchableOpacity
      style={styles.recipeCard}
      onPress={() => navigation.navigate('RecipeDetail', item)}
    >
      <Image
        source={{ uri: item.recipeImage }}
        style={styles.recipeImage}
        resizeMode="cover"
      />
      <View style={styles.recipeContent}>
        <Text style={styles.recipeTitle} numberOfLines={2}>
          {item.recipeName.length > 20 
            ? `${item.recipeName.substring(0, 20)}...` 
            : item.recipeName}
        </Text>
        <Text style={styles.recipeCategory}>{item.category}</Text>
      </View>
    </TouchableOpacity>
  );

  return (
    <View style={styles.container}>
      <View testID="favoriteRecipes">
        <Text style={styles.headerTitle}>My Favorite Recipes</Text>
      </View>

      <TouchableOpacity
        style={styles.backButton}
        onPress={() => navigation.goBack()}
      >
        <Text style={styles.backButtonText}>â† Go Back</Text>
      </TouchableOpacity>

      {favoriteRecipesList.length === 0 ? (
        <View style={styles.emptyContainer}>
          <Text style={styles.emptyText}>No favorite recipes yet!</Text>
        </View>
      ) : (
        <FlatList
          data={favoriteRecipesList}
          keyExtractor={(item) => item.idFood.toString()}
          renderItem={renderRecipeItem}
          numColumns={2}
          contentContainerStyle={styles.recipesList}
          showsVerticalScrollIndicator={false}
        />
      )}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    paddingTop: hp(5),
  },
  headerTitle: {
    fontSize: hp(3),
    fontWeight: 'bold',
    textAlign: 'center',
    color: '#333',
    marginBottom: hp(2),
  },
  backButton: {
    backgroundColor: '#4CAF50',
    paddingHorizontal: 20,
    paddingVertical: 10,
    borderRadius: 25,
    alignSelf: 'center',
    marginBottom: hp(2),
  },
  backButtonText: {
    color: '#fff',
    fontWeight: 'bold',
    fontSize: hp(2),
  },
  emptyContainer: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  emptyText: {
    fontSize: hp(2.5),
    color: '#666',
    textAlign: 'center',
  },
  recipesList: {
    paddingHorizontal: wp(2),
    paddingBottom: hp(5),
  },
  recipeCard: {
    flex: 1,
    margin: wp(2),
    backgroundColor: '#fff',
    borderRadius: 12,
    overflow: 'hidden',
    elevation: 3,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
  },
  recipeImage: {
    width: '100%',
    height: hp(20),
  },
  recipeContent: {
    padding: 12,
  },
  recipeTitle: {
    fontSize: hp(2),
    fontWeight: 'bold',
    color: '#333',
    marginBottom: 4,
  },
  recipeCategory: {
    fontSize: hp(1.6),
    color: '#666',
  },
});

export default FavoriteScreen;
```

### 10. **src/screens/MyRecipeScreen.js**
```javascript
import React, { useState, useEffect } from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  Image,
  ScrollView,
  ActivityIndicator,
  StyleSheet,
  Alert
} from 'react-native';
import { useNavigation } from '@react-navigation/native';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const MyRecipeScreen = () => {
  const navigation = useNavigation();
  const [recipes, setRecipes] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchRecipes();
  }, []);

  const fetchRecipes = async () => {
    try {
      const recipesJson = await AsyncStorage.getItem('customRecipes');
      if (recipesJson) {
        const parsedRecipes = JSON.parse(recipesJson);
        setRecipes(parsedRecipes);
      }
      setLoading(false);
    } catch (error) {
      console.error('Error fetching recipes:', error);
      setLoading(false);
    }
  };

  const handleRecipeClick = (recipe) => {
    navigation.navigate('CustomRecipesScreen', { recipe });
  };

  const handleAddRecipe = () => {
    navigation.navigate('RecipesFormScreen');
  };

  const deleteRecipe = async (index) => {
    try {
      Alert.alert(
        'Delete Recipe',
        'Are you sure you want to delete this recipe?',
        [
          {
            text: 'Cancel',
            style: 'cancel',
          },
          {
            text: 'Delete',
            style: 'destructive',
            onPress: async () => {
              const updatedRecipes = [...recipes];
              updatedRecipes.splice(index, 1);
              
              await AsyncStorage.setItem('customRecipes', JSON.stringify(updatedRecipes));
              setRecipes(updatedRecipes);
            },
          },
        ]
      );
    } catch (error) {
      console.error('Error deleting recipe:', error);
    }
  };

  const editRecipe = (recipe, index) => {
    navigation.navigate('RecipesFormScreen', {
      recipeToEdit: recipe,
      recipeIndex: index,
      onRecipeEdited: fetchRecipes
    });
  };

  return (
    <ScrollView style={styles.container}>
      <View style={styles.header}>
        <TouchableOpacity
          style={styles.backButton}
          onPress={() => navigation.goBack()}
        >
          <Text style={styles.backButtonText}>â† Back</Text>
        </TouchableOpacity>
        
        <Text style={styles.headerTitle}>My Recipes</Text>
      </View>

      <TouchableOpacity
        style={styles.addButton}
        onPress={handleAddRecipe}
      >
        <Text style={styles.addButtonText}>+ Add New Recipe</Text>
      </TouchableOpacity>

      {loading ? (
        <ActivityIndicator size="large" color="#4CAF50" style={styles.loader} />
      ) : recipes.length === 0 ? (
        <View style={styles.emptyContainer}>
          <Text style={styles.emptyText}>No recipes yet. Add your first recipe!</Text>
        </View>
      ) : (
        <View style={styles.recipesContainer}>
          {recipes.map((recipe, index) => (
            <TouchableOpacity
              key={recipe.idFood}
              testID="handleRecipeBtn"
              style={styles.recipeCard}
              onPress={() => handleRecipeClick(recipe)}
            >
              <Image
                source={{ uri: recipe.recipeImage }}
                style={styles.recipeImage}
                resizeMode="cover"
              />
              <View style={styles.recipeContent}>
                <Text style={styles.recipeTitle}>{recipe.recipeName}</Text>
                <Text testID="recipeDescp" style={styles.recipeDescription}>
                  {recipe.recipeInstructions?.substring(0, 50)}...
                </Text>
                <View testID="editDeleteButtons" style={styles.actionButtons}>
                  <TouchableOpacity
                    style={styles.editButton}
                    onPress={() => editRecipe(recipe, index)}
                  >
                    <Text style={styles.buttonText}>Edit</Text>
                  </TouchableOpacity>
                  <TouchableOpacity
                    style={styles.deleteButton}
                    onPress={() => deleteRecipe(index)}
                  >
                    <Text style={styles.buttonText}>Delete</Text>
                  </TouchableOpacity>
                </View>
              </View>
            </TouchableOpacity>
          ))}
        </View>
      )}
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  header: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: wp(5),
    paddingTop: hp(5),
    paddingBottom: hp(2),
  },
  backButton: {
    marginRight: wp(3),
  },
  backButtonText: {
    fontSize: hp(2),
    color: '#333',
    fontWeight: 'bold',
  },
  headerTitle: {
    fontSize: hp(3),
    fontWeight: 'bold',
    color: '#333',
    flex: 1,
  },
  addButton: {
    backgroundColor: '#4CAF50',
    marginHorizontal: wp(5),
    paddingVertical: hp(2),
    borderRadius: 12,
    alignItems: 'center',
    marginBottom: hp(3),
  },
  addButtonText: {
    color: '#fff',
    fontSize: hp(2.2),
    fontWeight: 'bold',
  },
  loader: {
    marginTop: hp(10),
  },
  emptyContainer: {
    alignItems: 'center',
    justifyContent: 'center',
    paddingVertical: hp(10),
  },
  emptyText: {
    fontSize: hp(2.5),
    color: '#666',
    textAlign: 'center',
  },
  recipesContainer: {
    paddingHorizontal: wp(5),
    paddingBottom: hp(5),
  },
  recipeCard: {
    backgroundColor: '#fff',
    borderRadius: 12,
    overflow: 'hidden',
    marginBottom: hp(3),
    elevation: 3,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
  },
  recipeImage: {
    width: '100%',
    height: hp(25),
  },
  recipeContent: {
    padding: wp(4),
  },
  recipeTitle: {
    fontSize: hp(2.5),
    fontWeight: 'bold',
    color: '#333',
    marginBottom: hp(1),
  },
  recipeDescription: {
    fontSize: hp(1.8),
    color: '#666',
    lineHeight: hp(2.2),
    marginBottom: hp(2),
  },
  actionButtons: {
    flexDirection: 'row',
    justifyContent: 'space-between',
  },
  editButton: {
    backgroundColor: '#2196F3',
    paddingHorizontal: wp(6),
    paddingVertical: hp(1),
    borderRadius: 8,
    flex: 1,
    marginRight: wp(2),
    alignItems: 'center',
  },
  deleteButton: {
    backgroundColor: '#F44336',
    paddingHorizontal: wp(6),
    paddingVertical: hp(1),
    borderRadius: 8,
    flex: 1,
    marginLeft: wp(2),
    alignItems: 'center',
  },
  buttonText: {
    color: '#fff',
    fontWeight: 'bold',
    fontSize: hp(1.8),
  },
});

export default MyRecipeScreen;
```

### 11. **src/screens/CustomRecipesScreen.js**
```javascript
import React from 'react';
import {
  ScrollView,
  View,
  Text,
  Image,
  TouchableOpacity,
  StyleSheet
} from 'react-native';
import { useNavigation, useRoute } from '@react-navigation/native';
import { useDispatch, useSelector } from 'react-redux';
import { toggleFavorite } from '../redux/favoritesSlice';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const CustomRecipesScreen = () => {
  const navigation = useNavigation();
  const route = useRoute();
  const dispatch = useDispatch();
  
  const recipe = route.params?.recipe;
  const favoriteRecipes = useSelector((state) => state.favorites.favoriteRecipes);
  const isFavorite = recipe ? favoriteRecipes.some(fav => fav.idFood === recipe.idFood) : false;

  if (!recipe) {
    return (
      <View style={styles.container}>
        <Text>No Recipe Details Available</Text>
      </View>
    );
  }

  const handleToggleFavorite = () => {
    dispatch(toggleFavorite(recipe));
  };

  return (
    <ScrollView style={styles.container}>
      <View testID="imageContainer">
        <Image
          source={{ uri: recipe.recipeImage }}
          style={styles.recipeImage}
          resizeMode="cover"
        />
      </View>

      <View testID="topButtonsContainer" style={styles.topButtonsContainer}>
        <TouchableOpacity
          style={styles.backButton}
          onPress={() => navigation.goBack()}
        >
          <Text style={styles.buttonText}>Go Back</Text>
        </TouchableOpacity>
        
        <TouchableOpacity
          style={styles.favoriteButton}
          onPress={handleToggleFavorite}
        >
          <Text style={styles.heartIcon}>
            {isFavorite ? 'â™¥' : 'â™¡'}
          </Text>
        </TouchableOpacity>
      </View>

      <View testID="contentContainer" style={styles.contentContainer}>
        <Text style={styles.recipeTitle}>{recipe.recipeName}</Text>
        
        <View style={styles.section}>
          <Text style={styles.sectionTitle}>Content</Text>
          <Text style={styles.recipeDescription}>
            {recipe.recipeInstructions}
          </Text>
        </View>
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  recipeImage: {
    width: '100%',
    height: hp(35),
  },
  topButtonsContainer: {
    position: 'absolute',
    top: hp(5),
    left: wp(4),
    right: wp(4),
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
  },
  backButton: {
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    paddingHorizontal: 16,
    paddingVertical: 8,
    borderRadius: 20,
    elevation: 3,
  },
  favoriteButton: {
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    padding: 12,
    borderRadius: 20,
    elevation: 3,
  },
  buttonText: {
    color: '#333',
    fontWeight: 'bold',
  },
  heartIcon: {
    fontSize: 20,
    color: '#FF6347',
  },
  contentContainer: {
    padding: wp(5),
  },
  recipeTitle: {
    fontSize: hp(3),
    fontWeight: 'bold',
    color: '#333',
    marginBottom: hp(2),
  },
  section: {
    marginTop: hp(2),
  },
  sectionTitle: {
    fontSize: hp(2.2),
    fontWeight: 'bold',
    color: '#333',
    marginBottom: hp(1),
  },
  recipeDescription: {
    fontSize: hp(1.9),
    color: '#444',
    lineHeight: hp(2.5),
    textAlign: 'justify',
  },
});

export default CustomRecipesScreen;
```

### 12. **src/screens/RecipesFormScreen.js**
```javascript
import React, { useState } from 'react';
import {
  View,
  Text,
  TextInput,
  TouchableOpacity,
  Image,
  ScrollView,
  StyleSheet,
  Alert
} from 'react-native';
import { useNavigation, useRoute } from '@react-navigation/native';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const RecipesFormScreen = () => {
  const navigation = useNavigation();
  const route = useRoute();
  
  const { recipeToEdit, recipeIndex, onRecipeEdited } = route.params || {};
  
  const [title, setTitle] = useState(recipeToEdit?.recipeName || '');
  const [image, setImage] = useState(recipeToEdit?.recipeImage || '');
  const [description, setDescription] = useState(recipeToEdit?.recipeInstructions || '');

  const saveRecipe = async () => {
    if (!title.trim() || !image.trim() || !description.trim()) {
      Alert.alert('Error', 'Please fill in all fields');
      return;
    }

    try {
      const newRecipe = {
        idFood: recipeToEdit?.idFood || Date.now(),
        recipeName: title,
        recipeImage: image,
        recipeInstructions: description,
        category: recipeToEdit?.category || 'Custom',
        ingredients: recipeToEdit?.ingredients || [
          { name: 'Custom Ingredient', measure: 'As needed' }
        ]
      };

      const existingRecipes = await AsyncStorage.getItem('customRecipes');
      let recipes = existingRecipes ? JSON.parse(existingRecipes) : [];

      if (recipeToEdit) {
        recipes[recipeIndex] = newRecipe;
        if (onRecipeEdited) {
          onRecipeEdited();
        }
        Alert.alert('Success', 'Recipe updated successfully!');
      } else {
        recipes.push(newRecipe);
        Alert.alert('Success', 'Recipe saved successfully!');
      }

      await AsyncStorage.setItem('customRecipes', JSON.stringify(recipes));
      navigation.goBack();
    } catch (error) {
      console.error('Error saving recipe:', error);
      Alert.alert('Error', 'Failed to save recipe');
    }
  };

  return (
    <ScrollView style={styles.container}>
      <View style={styles.header}>
        <TouchableOpacity
          style={styles.backButton}
          onPress={() => navigation.goBack()}
        >
          <Text style={styles.backButtonText}>â† Back</Text>
        </TouchableOpacity>
        <Text style={styles.headerTitle}>
          {recipeToEdit ? 'Edit Recipe' : 'Add New Recipe'}
        </Text>
      </View>

      <View style={styles.formContainer}>
        <Text style={styles.label}>Recipe Title</Text>
        <TextInput
          style={styles.input}
          placeholder="Enter recipe title"
          value={title}
          onChangeText={setTitle}
        />

        <Text style={styles.label}>Image URL</Text>
        <TextInput
          style={styles.input}
          placeholder="Enter image URL"
          value={image}
          onChangeText={setImage}
        />

        {image ? (
          <Image
            source={{ uri: image }}
            style={styles.previewImage}
            resizeMode="cover"
          />
        ) : (
          <View style={styles.placeholderContainer}>
            <Text style={styles.placeholderText}>Upload Image URL</Text>
          </View>
        )}

        <Text style={styles.label}>Recipe Description</Text>
        <TextInput
          style={[styles.input, styles.textArea]}
          placeholder="Enter recipe instructions and details"
          value={description}
          onChangeText={setDescription}
          multiline
          numberOfLines={6}
          textAlignVertical="top"
        />

        <TouchableOpacity
          style={styles.saveButton}
          onPress={saveRecipe}
        >
          <Text style={styles.saveButtonText}>
            {recipeToEdit ? 'Update Recipe' : 'Save Recipe'}
          </Text>
        </TouchableOpacity>
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  header: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: wp(5),
    paddingTop: hp(5),
    paddingBottom: hp(2),
    backgroundColor: '#f8f8f8',
  },
  backButton: {
    marginRight: wp(3),
  },
  backButtonText: {
    fontSize: hp(2),
    color: '#333',
    fontWeight: 'bold',
  },
  headerTitle: {
    fontSize: hp(2.5),
    fontWeight: 'bold',
    color: '#333',
    flex: 1,
  },
  formContainer: {
    paddingHorizontal: wp(5),
    paddingTop: hp(3),
    paddingBottom: hp(5),
  },
  label: {
    fontSize: hp(2),
    fontWeight: '600',
    color: '#333',
    marginBottom: hp(1),
    marginTop: hp(2),
  },
  input: {
    borderWidth: 1,
    borderColor: '#ddd',
    borderRadius: 8,
    paddingHorizontal: wp(4),
    paddingVertical: hp(1.5),
    fontSize: hp(1.9),
    backgroundColor: '#fff',
  },
  textArea: {
    height: hp(20),
    textAlignVertical: 'top',
  },
  previewImage: {
    width: '100%',
    height: hp(25),
    borderRadius: 8,
    marginTop: hp(2),
  },
  placeholderContainer: {
    width: '100%',
    height: hp(25),
    borderRadius: 8,
    backgroundColor: '#f0f0f0',
    justifyContent: 'center',
    alignItems: 'center',
    marginTop: hp(2),
  },
  placeholderText: {
    fontSize: hp(2),
    color: '#999',
  },
  saveButton: {
    backgroundColor: '#4CAF50',
    paddingVertical: hp(2),
    borderRadius: 12,
    alignItems: 'center',
    marginTop: hp(4),
  },
  saveButtonText: {
    color: '#fff',
    fontSize: hp(2.2),
    fontWeight: 'bold',
  },
});

export default RecipesFormScreen;
```

### 13. **src/components/categories.js**
```javascript
import React from 'react';
import { View, Text, TouchableOpacity, Image, ScrollView, StyleSheet } from 'react-native';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const Categories = ({ categories, activeCategory, handleChangeCategory }) => {
  return (
    <ScrollView
      horizontal
      showsHorizontalScrollIndicator={false}
      contentContainerStyle={styles.container}
    >
      {categories.map((category) => (
        <TouchableOpacity
          key={category.idCategory}
          style={[
            styles.categoryItem,
            activeCategory === category.strCategory && styles.activeCategoryItem
          ]}
          onPress={() => handleChangeCategory(category.strCategory)}
        >
          <Image
            source={{ uri: category.strCategoryThumb }}
            style={styles.categoryImage}
          />
          <Text
            style={[
              styles.categoryText,
              activeCategory === category.strCategory && styles.activeCategoryText
            ]}
          >
            {category.strCategory}
          </Text>
        </TouchableOpacity>
      ))}
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    paddingHorizontal: wp(4),
    paddingVertical: hp(1),
  },
  categoryItem: {
    alignItems: 'center',
    marginRight: wp(4),
    paddingVertical: hp(1),
    paddingHorizontal: wp(2),
    borderRadius: 12,
    backgroundColor: '#f8f8f8',
    minWidth: wp(20),
  },
  activeCategoryItem: {
    backgroundColor: '#4CAF50',
  },
  categoryImage: {
    width: wp(12),
    height: wp(12),
    borderRadius: wp(6),
    marginBottom: hp(0.5),
  },
  categoryText: {
    fontSize: hp(1.6),
    color: '#666',
    fontWeight: '500',
  },
  activeCategoryText: {
    color: '#fff',
    fontWeight: 'bold',
  },
});

export default Categories;
```

### 14. **src/components/recipes.js**
```javascript
import React from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  Image,
  FlatList,
  StyleSheet
} from 'react-native';
import { useNavigation } from '@react-navigation/native';
import { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';

const Recipes = ({ categories, foods }) => {
  const navigation = useNavigation();

  const ArticleCard = ({ item, index }) => {
    return (
      <TouchableOpacity
        testID="articleDisplay"
        style={styles.articleCard}
        onPress={() => navigation.navigate('RecipeDetail', item)}
      >
        <Image
          source={{ uri: item.recipeImage }}
          style={styles.articleImage}
          resizeMode="cover"
        />
        <View style={styles.articleContent}>
          <Text style={styles.articleTitle} numberOfLines={1}>
            {item.recipeName}
          </Text>
          <Text style={styles.articleDescription} numberOfLines={2}>
            {item.recipeInstructions?.substring(0, 60)}...
          </Text>
        </View>
      </TouchableOpacity>
    );
  };

  return (
    <View testID="recipesDisplay">
      <FlatList
        data={foods}
        numColumns={2}
        keyExtractor={(item) => item.idFood.toString()}
        renderItem={({ item, index }) => (
          <ArticleCard item={item} index={index} />
        )}
        showsVerticalScrollIndicator={false}
        contentContainerStyle={styles.recipesContainer}
      />
    </View>
  );
};

const styles = StyleSheet.create({
  recipesContainer: {
    paddingHorizontal: wp(2),
    paddingBottom: hp(5),
  },
  articleCard: {
    flex: 1,
    margin: wp(2),
    backgroundColor: '#fff',
    borderRadius: 12,
    overflow: 'hidden',
    elevation: 3,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
  },
  articleImage: {
    width: '100%',
    height: hp(20),
  },
  articleContent: {
    padding: wp(3),
  },
  articleTitle: {
    fontSize: hp(2),
    fontWeight: 'bold',
    marginBottom: hp(0.5),
    color: '#333',
  },
  articleDescription: {
    fontSize: hp(1.6),
    color: '#666',
    lineHeight: hp(2),
  },
});

export default Recipes;
```

## Running the Application

1. **Clone and install:**
```bash
git clone https://github.com/sktcontentteam/FoodRecipe.git
cd FoodRecipe
npm install
```

2. **Run the application:**
```bash
npm run web
```

The application will open in your browser at `http://localhost:8081`. You can also run it on iOS/Android simulators or physical devices using Expo Go.

## Features Implemented

âœ… **Main Feed** - Recipe discovery with category filtering  
âœ… **Recipe Details** - Complete recipe information with favoriting  
âœ… **Favorites Section** - Persistent favorite recipe storage  
âœ… **My Recipes** - CRUD operations for personal recipes  
âœ… **Navigation** - Back buttons and smooth screen transitions  
âœ… **Responsive Design** - Works on different screen sizes  
âœ… **State Management** - Redux for favorites, AsyncStorage for custom recipes  
âœ… **Animations** - Welcome screen animations  

The application is now fully functional and ready to use!
